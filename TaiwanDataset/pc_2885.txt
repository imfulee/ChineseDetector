多款知名家用路由器使用老舊Linux核心，連帶藏匿大量安全漏洞 文/林妍溱 20200707發表 德國知名的弗勞恩霍夫通訊協會（Fraunhofer Institute for Communication，FKIE）最 新研究顯示，許多知名品牌的家用路由器使用古早而久未更新的Linux作業系統，包含已 經公諸於世的漏洞、還把登入密碼存在韌體中，突顯家庭網路安全堪憂。 這家研究機構分析了全球7個知名廠商，包括華碩、合勤、友訊（DLink）、Linksys、 TPLink、AVM及Netgear出品的127款家用路由器產品，並以他們自行研發的韌體分析工具 來分析這些裝置韌體何時更新、用什麼作業系統、有多少已知重大漏洞、廠商用什麼方法 緩解攻擊及多久啟用一次、韌體映像檔是否包含加密金鑰資訊，以及是否有什麼寫死（ hardcoded）的登入帳密等等。而研究結果顯示，沒有一臺路由器是沒有漏洞的。 FKIE發現， 在127臺受測產品中，有46臺過去一年都沒有發布安全更新。 90%以上的產品使用Linux，但是超過1/3使用的是2.6.36以前的版本 ，那至少是2011年2月 以前的版本。AVM是唯一一家未曾使用Linux 2.6版以前的廠商，半數使用4.4版Linux Kernel。 而Netgear、TPLink有半數使用2.6.36版核心 ， 合勤甚至有25%使用2.6.35版本 核心。 老舊作業系統可能帶有許多安全漏洞，促使研究人員計算這些路由器韌體映像檔中的已知 Linux重大安全漏洞。這127臺裝置平均有53個重大風險漏洞，即使表現最好的產品，也有 至少21個重大風險或348個高度風險漏洞。高度風險最多的是Linksys WRT54GL，有579個 ，它使用的Linux核心是所有受測產品中最舊。而合勤的Zyxel NBG6816及Zyxel NBG6815 ，則並列最多重大風險漏洞的產品，漏洞數各有68個。 研究人員也檢視家用路由器產品的韌體，是否包含私有金鑰可能被駭客存取。結果顯示， 127臺裝置中平均洩露的私鑰資訊為5種，其中Netgear R6800總共公開了13種資訊，為所 有產品之冠。只有AVM的韌體映像檔不會公開任何金鑰資訊。 物聯網殭屍病毒Mirai利用寫死（hardcoded）的登入憑證或密碼來入侵許多連網裝置， 因而成為本研究的另一檢視標的。 華碩、合勤及友訊在內的6成產品韌體映像檔中，都不 包含寫死的登入憑證和密碼 ， 但仍有50臺包含寫死的憑證，其中16臺還使用廣為人知或極 易破解的憑證 。 最不安全的是Netgear RAX40，使用password、amazon作為登入密碼。華 碩則是唯一在韌體映像檔中，不儲存任何寫死憑證和密碼的廠商。 至於廠商使用了多少保護嵌入式裝置的緩解技術，研究顯示 AVM使用的防護最多，而友訊 最少 。 整體而言，研究人員結論AVM最安全，華碩和Netgear在某些方面表現優於友訊、 Linksys、TPLink及合勤。 這份報告或許也反映近日的路由器資安事件。6月底資安廠商ZDI揭露79款Netgear R6700 系列路由器含有允許駭客執行任意程式的安全漏洞，Netgear在1月就接獲通報，但6個月 後仍未完成修補。 https://www.ithome.com.tw/news/138633 樓下說還好我都直接從中華電信拉專線過來 標題 [新聞] 狂大谷翔平敲三分砲 大聯盟首轟震撼美 時間 Wed Apr 4 11:36:35 2018 2018/04/05 [新聞]大谷翔平連2場開轟 今天苦主是去年賽揚投手 。他打的又不是鮑爾或是骷髏伯，人家對他期待是打這些。自己架hostapd啊。華碩的韌體都沒寫死喔？這挺厲害的。推 AVM 的機器。怕。還好我用aruba。這邊大神都自己架。樓下說我都用Checkpoint充當Router。使用Linux也不是問題吧 是太舊了。寫這篇的根本外行... kernel 版本是綁 SDK 的。他老兄以為可以隨便亂換喔?。SDK不更新是誰的問題? 踢皮球不能解決問題喔。樓下買firewall當hub用。好，買fortigate 只用L2，棒。你以為可以隨便更新嗎? 因為現在 FCC 的管制很嚴格。驅動程式是不能給 source code, 一定一堆 blob。"理論上" SDK 都會支援全部舊平台, 但實際上...。這破碎化程度絕對比 Android 更嚴重。某些型號停留在比較舊的版本, 不算什麼奇怪的事。這樣某種程度上也沒錯啊 廠商要選舊的SOC 被SDK綁住。不安全是自己選料的問題之ㄧ阿。不是"廠商選舊的SOC" 而是"SOC會停在原地 SDK不會"。其實跟 Android 有點類似 硬體商給不出能動的底層。上面 Android 版本就等於被綁死了。driver 有很多 blob, 和 kernel 的接口都定死了。不只不能換版本 可能連編譯的參數都不能隨便亂動。我的意思是產品跟替的問題啊 這也是一種風險 如果。風險太大 加速推換新硬體沒什麼問題啊 不過大部分。以前有蠻多開源的驅動程式, 但現在幾乎全都沒了。人大概也沒差吧 Router安全性神馬的。因為 FCC 幾年前就要求廠商對區域/功率要嚴格管制。驅動程式全部開源, 能動手腳的地方當然就多了。以前一堆動不動就解全部頻道, 功率也可以隨便亂開。https://bit.ly/2W4Uf7Y  裡面有大神級人物的回答。像 Broadcom 的舊晶片搭 SDK6/SDK7, 就綁死 2.6.36。比較新的型號搭配的 kernel 版本也比較新。所以那些舊核心也沒辦法打 patch 了嗎？。大神說法: 有些廠商開發的時候會對核心上很多 patch。上的愈多就愈難更新 甚至會有被綁死的情形。所以 ASUSWRT 有特定型號的 SDK 版本跟別人不一樣。因為連 SDK 小版更新都搞不定 就只有停留在特定版本。像 OpenWRT 那種開放型態統一 kernel 版本是好方向。看到的韓劇會想到路由器改裝成引爆器之類的(?。但是 FCC 的政策卻是背道而馳的。台灣沒賣？avm。跟晶片選哪家的關係比較大啦。和開源韌體關係愈密切的 通常在這方面就會愈好。eg 上面的Zyxel NBG6816, 就被 Quantenna 綁死了。Linksys WRT54GL 是十幾年前的 Broadcom, 還在用?。還好俺都用飛塔 雖然是一個過保放生的無良廠商 xD。現在就連大廠也不會自己做 wisoc 了 現成挑一個卡緊。那...怎辦...能學windows一直更新嗎？。RAX40 正在用,該不會要換回rt-n16吧 -.-。憑證寫死沒差啦，密碼寫死比較智障。kernel版本當然可以更新，只是要花費大量人力。有些廠商根本沒在維護軟體的，就別期望太多了。原廠提供什麼 品牌就提供什麼 要一直更新只該找3rd。party fw.  另外這一篇很業配就是了。還好我都用routeros。還好我用UniFi。好險我用撥接。就算是大廠 一樣要靠原廠的SDK。做硬體的不提供 底下用硬體的最好變的出來。舊硬體被放生很正常 手機晶片上看的也夠多了。查了一下這家apm的設備 整張表格都用高通。我險我都用飛鴿。還好我都去網咖。用4G分享就好了 去網咖會不會太累 xD。請軟體大神救救所有的路由器吧！。還好我用Forti。2.6 超級古老耶....。還是重複一次 這篇重點真的很奇怪 漏洞並不是看核心。而是驅動程式和上面的 daemon(hostapd/wpad之類的)。核心版本會影響的是版本太舊可能和某些軟體不相容。這篇意思是否指韌體本身的底層就存在著漏洞?。kernal有洞阿 太古老當然有被攻擊的風險。只是風險係數多高而已。是 所以太舊的硬體很有可能根本修不好。kernel 就算有洞 麻煩也等拿到 shell 再來談。所以勒是舊的都別用嗎 還是對外的別用。家裡牆壁上有暗門 但是外人根本進不來 有差嗎?。又或者講歸講還是一樣照用不誤+舊貨滿街跑。現在最低標準至少要支持 WPA2 吧 更早的早該扔了。資安這種東西就是永遠有風險  但做到100%可能也沒必。要 很多洞要能攻擊的前提都太難達到了  簡單來說就。最起碼對外的漏洞要有辦法補起來才行。是風險係數低到不行 別浪費時間去弄了 但是這是對。要攻擊這個漏洞得先拿到 root -> 常見的笑話。廠商而言拉 對消費者來說 還是多多益善 越少洞越好。例如說要提供給不特定使用戶的 安全要求當然要高。你家裡要知道密碼才給連的 就不用太擔心。不過說真的 一堆人習慣不好Router密碼根本沒改。比起這麼難搞的洞 直接登進去你AP更快。還好現在新一點的FW開始會強迫要求改了。所以結論是要買就買新的？。舊的也不會大降價 省錢買舊的這思路也不存在。未來子孫應該最賭爛這一代製造堆成山的塑膠殼垃圾。結論是 沒差拉  誰在意資安阿(?。... 新的最便宜一台幾百塊就有了 有啥道理不換?。連幾百塊都捨不得花 別說什麼重視資安。手上有在使用的router全都刷成openwrt了。aruba這家是什麼來頭，昨天X陽業務打電話到公司，聽。都沒聽過的廠牌真的靠得住？我用過我推Netgear，讚。aruba 現在就 HPE 的無線網路部門。netgear跟aruba大概是路口麵店跟米其林一星的差別。不過台灣公司都不願意砸錢建網路啦。沒聽過也很正常。我都改刷DDWRT。aruba一顆wifi6的ap便宜的兩三萬吧，說貴確實滿貴的。因為Aruba不是做活老百姓的生意 都賣企業用戶。問一下，中華電信的小烏龜會自動更新韌體嗎？。會。有用網路的消費性電子十之八九都是Linux。P880 之前更新登入介面和帳密時讓我超緊張。希望有coding/debug大神幫所有路由器更新。友訊、Linksys、TP-Link WoW  喜歡吹得都被打腫臉了。某j覺得最差的ASUS居然不錯 他要去思覺失調了嗎。aruba的市場在企業或學校單位