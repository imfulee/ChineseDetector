https://news.xfastest.com/others/82781/linustorvaldsihopeintelsavx512diesapainfuldeath/ https://tinyurl.com/y9zq7dv8 Linux之父怒罵Intel AVX512：我希望它死得痛苦點 ............ Intel在Skylake Server架構中首次引入了AVX512特性，但它並沒有像之前引入AVX和 AVX2那樣順利，因為在使用過程中，用戶發現在AVX512負載下，核心頻率會有較大幅度 的下降，讓性能不升反降，Cloudflare的運維人員在兩年前就已經對此做過詳細的分析了 。 正如Linus所說的，這些“魔法指令集”也讓x86 CPU變得更為碎片化，程式優化變得越來 越困難。而AVX512在不少場景中是為了AI相關的應用所服務的，對傳統應用的作用較小 ，Linus說的“AVX2夠用”確實是目前的情況，更多的浮點運算交給對這方面更拿手的GPU 去做才是正確的選擇。 ======= 可能台灣有些財團法人買了不少i的xx00K這上頭有avx512 投資有賺賠pc_shopping版眾買cpu前要看看文章錢是自已的要花在刀口上 : 不過嘴的不太是針對啊你怎麼拔了AVX512這部分 : 而是針對AVX512本身這部分 : 背景: : phoronix發現Intel最近替GCC 11新增自家Sapphire Rapids、Alder Lake系列CPU : 支援的程式碼中，並沒有AVX512相關的部分 : 也就是Intel新的大小核Alder Lake架構不會支援Intel常常拿來廣告的AVX512指令集擴充 : 然後創世神Linus Torvalds又双叒開始嘴砲了 : source: https://www.realworldtech.com/forum/?threadid=193189curpostid=193190 : https://reurl.cc/exN7Q7 : 個人渣翻： : : 我希望AVX512會一敗塗地，而Intel會開始做些比較實際的工作 : 而不是多塞些奇怪的指令 : 然後替那些指令量身訂做些跑分。 : 我希望Intel能夠腳踏實地些：繼續推進製程節點，並且不要整天只是想在 : 高效能運算或是其他冷門領域耍些花招 : 而是把這些心思放在該如何讓一般的程式都能跑得更快上 : 我之前就提過了，這次我再重申一次： : 就算是在x86架構最輝煌的那個年代 : 那個Intel錢淹腳目、除了Intel沒一個能打的年代 : Intel的浮點運算其實是弄得最爛的那家 : 單論浮點運算的相對效能，根本是Intel反過來被各家壓著打的 : 不過這根本無足輕重 : 因為除開跑分的時候根本沒人在乎 : 目前AVX512的處境基本上是一樣的，而我會說未來也會是這樣。 : 對啦，你要找的話當然可以找到一些應用非常倚賴AVX512的支援 : 不過宏觀來說根本沒幾隻貓會專門為了這類應用而真的掏錢添購機器。 : 並且AVX512是有其負面影響的。 : 我反而更希望Intel把那些電晶體花在其他真正緊要的刀口上。 : 例如拿去加速GPU的浮點效能啦 : 甚至單純只是給我更多的實體核心，單線程性能強大、而沒有AVX512這種垃圾的核心 : 基本上就是AMD目前弄的這樣。 : 我希望我的CPU頂到功耗上限的原因是真的在跑日常的整數運算 : 而不是其他AVX512之類燙到爆炸、只會讓處理器降頻 : 畢竟，多數人會用AVX512的理由是拿來memcpy (1) : 以及浪費矽晶圓面積，導致塞不下更多實體核心的指令。 : 是的，我有些偏見。 : 我恨透了浮點數跑分這檔事，但我也知道的確有些人很看重這部分的效能。 : 不過我還是認為AVX512本身就是個餿主意，怎麼想也不該用它做為解決方案。 : 可能我有些反應過度，不過我就是這樣認為的。 : Intel有過一些錯誤決定，而AVX512本身絕對是其中最經典的那幾個 : 部分原因也是因為它助長了x86市場的碎片化。 : 不要再弄這類專門加速冷門應用的玩意了 : 你該做的是盡心盡力地去讓那些最常見、多數人真正在意的場景跑得更快些。 : 隨便弄個不要太鳥的浮點運算，單單這樣人們就會買單了 : 我會說AVX2就已經非常足夠了。 : 對，我很容易被戳到。 : : (1) : 以C的語法來說，要快速初始化/複製一段記憶體區塊 : 你需要的是<string.h>裡面的memset啦memcpy之類的東西 : 前者把一塊MEMory都SET成某個預設值 : 後者幫你把一塊MEMory CoPY到其他地方 : (對，部分人士真的很懶得打字) : 而一般x8664來說，這部分可能是以64bit為單位去操作的 : 而處理器如果額外有avx512擴充的話 : 裡面的其中幾個指令可以達成一樣的效果，而且是用512bit為單位去操作 : 想當然爾能夠快上許多AVX512指令CPI跟普通指令一樣、並且不要降頻的話 : 小結： : 浮點數運算不是所有應用都用得到的 : 而專注於浮點數的指令層平行化的AVX512更然 : kernel就是一個用不太多的例子 嗯雖然我根本不懂，暫且這樣說吧 : 而AVX512又耗電又佔面積 : 會被Linus嘴也是合理 : 歷史上有過不少CPU附了專用的指令 : 基本上也是當時有需求才會有這樣的設計 : 不過這需求是否真的是需求則見仁見智 : 以前甚至有單個指令完成某段記憶體區段的傅立葉變換的 : 然後就沒有然後了 : TL;DR : Intel自己搞出來AVX512，結果也不是普及到自家所有產品 : 用途又相對稀少 : Linus認為Intel不該費心在這類冷門應用上 : 那些電晶體拿來改進IPC啦或是單純多塞核心啦有用多了 : 喔對這邊有另一個觀點，這篇洪教授的文算平衡打擊 : https://www.facebook.com/shihhaohung/posts/4148325648543225 : 沒問就轉貼的關係，就不講內容了 : 有興趣自己點個。政府部門電腦用不到i7 Win7時代採購的都是i7。配4GB記憶體跑32位元OS。現在稍微進步了......換i5-8500配Win10 記憶體8GB。然後拆開電腦看主機板用料......真的會暈倒。文書機在意主機板用料做啥www。政府機關誰在乎用料啦 能跑文書軟體就好。主板在年限內能用就好 反正都要消耗預算買新的。AI訓練早就是GPGPU的天下。壞掉廠商叫得來比較重要。用料？。i皇就是要面子不想認輸而已。企業或政府機關的文書機看什麼用料啦 合約年限內不。要死的太誇張 電話能不能馬上叫人來維護才是重點。政府部門電腦都有出專門的規格能省則省，有些連南。橋的散熱片都省下來。https://i.imgur.com/5HxGUTj.jpg。樓上很愛723喔。723上廁所都用AVX512擦屁股。沒AVX512我大723可是不用的哦！。嘴死它啊!!!! 讚啦。文書機在意主板這個真的很搞笑XD。老黃大勝利。笑死，漏洞破到乾脆不補AVX。看過台銀那本的就知道，政府能選的沒多少。原來這邊有人會在意文書機主機板的用料喔 就是以便。宜走向了 主機板搞那麼貴幹嘛